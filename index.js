!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.gambar=e():t.gambar=e()}(window,(function(){return function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=3)}([function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.x=t,this.y=e}distanceToOther(t){return Math.sqrt(t.x-this.x^2-(t.y-this.y)^2)}}},function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(s(6)),n=r(s(0));!function(t){t.BRUSH="BRUSH",t.DIAMOND="DIAMOND",t.ELLIPSE="ELLIPSE",t.LINE="LINE",t.RECTANGLE="RECTANGLE",t.POLYGON="POLYGON"}(e.PossibleShapes||(e.PossibleShapes={}));e.default=class{constructor(t,e,s,r){this.id=i.default();const o=t.x>e.x?e.x:t.x,a=t.y>e.y?e.y:t.y;this.start=new n.default(o,a),this.type=s,this.selected=!1,this.strokeColor=r.strokeColor,this.strokeWidth=r.strokeWidth,this.fillColor=r.fillColor,this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}draw(t){this.strokeColor&&this.strokeWidth&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.stroke(this.path)),this.fillColor&&(t.fillStyle=this.fillColor,t.fill(this.path))}move(t,e){e.translate(t.x,t.y)}}},function(t,e,s){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const i=r(s(1));class n extends i.default{constructor(t,e,s){super(t,e,i.PossibleShapes.RECTANGLE,s),this.path=new Path2D,this.path.rect(this.start.x,this.start.y,this.width,this.height)}}e.default=n},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=s(4);e.default=class{constructor(t,e){this.canvas=t;try{this.context=this.canvas.getContext("2d"),this.context.translate(.5,.5)}catch(t){console.error(t)}this.bBoxNodeStyle=e.nodeStyle,this.bBoxEdgeStyle=e.edgeStyle,this.shapes=[]}rectangle(t,e,s,i=!0){this.clearSelection();const n=new r.Rectangle(t,e,s);i&&this.shapes.push(n),this.render(),i||n.draw(this.context)}ellipse(t,e,s,i=!0){this.clearSelection();const n=new r.Ellipse(t,e,s);i&&this.shapes.push(n),this.render(),i||n.draw(this.context)}line(t,e,s,i=!0){this.clearSelection();const n=new r.Line(t,e,s);i&&this.shapes.push(n),this.render(),i||n.draw(this.context)}polygon(t,e,s=!0){const i=new r.Polygon(t,e);s&&this.shapes.push(i),this.render(),s||i.draw(this.context)}boundingBox(t){if(this.bBoxNodeStyle&&this.bBoxEdgeStyle){new r.BoundingBox(t,this.bBoxEdgeStyle,this.bBoxNodeStyle).draw(this.context)}}render(){this.clearCanvas(),this.shapes.forEach(t=>{t.draw(this.context)}),this.shapes.forEach(t=>{t.selected&&this.boundingBox(t)}),this.context.save()}deleteAll(){this.shapes=[],this.render()}deleteShape(t){this.shapes=this.shapes.filter(e=>e.id!==t.id)}clearSelection(){this.shapes.forEach(t=>{t.selected=!1}),this.render()}clearCanvas(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}selectShapeAtPoint(t,e=!0){e&&this.clearSelection();const s=this.findShapeAtPoint(t);s&&(s.selected=!0),this.render()}findShapeAtPoint(t){for(let e=this.shapes.length-1;e>=0;e--){const s=this.shapes[e];if(this.context.isPointInPath(s.path,t.x,t.y))return s}return null}findSelectedShapes(){const t=[];return this.shapes.forEach((e,s)=>{e.selected&&t.push([e,s])}),t}swapLayerOrder(t,e){const s=this.shapes[t];this.shapes[t]=this.shapes[e],this.shapes[e]=s}pushSelectedShapesBackward(){const t=this.findSelectedShapes();for(const[e,s]of t)s>0&&this.swapLayerOrder(s,s-1);this.render()}pullSelectedShapesForward(){const t=this.findSelectedShapes();for(let e=t.length-1;e>=0;e--)t[e][1]<this.shapes.length-1&&this.swapLayerOrder(e,e+1);this.render()}moveSelectedShapes(t){console.warn("moveSelectedShapes isn't fully implemented correctly yet.");const e=this.findSelectedShapes();for(const[s,r]of e)s.move(t,this.context);this.render()}loadStack(t){this.shapes=t,this.render()}getShapeStack(){return this.shapes}getDrawingData(){return this.canvas.toDataURL()}}},function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(s(5));e.BoundingBox=i.default;const n=r(s(7));e.Ellipse=n.default;const o=r(s(8));e.Line=o.default;const a=r(s(0));e.Point=a.default;const h=r(s(9));e.Polygon=h.default;const l=r(s(2));e.Rectangle=l.default;const c=r(s(1));e.Shape=c.default},function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(s(0)),n=r(s(2));e.default=class{constructor(t,e,s){this.handleStyle=s;const r=new i.default(t.start.x+t.width,t.start.y+t.height);this.box=new n.default(t.start,r,e),this.points=[t.start,new i.default(t.start.x+t.width,t.start.y),new i.default(t.start.x+t.width,t.start.y+t.height),new i.default(t.start.x,t.start.y+t.height),new i.default(t.start.x+t.width/2,t.start.y),new i.default(t.start.x+t.width,t.start.y+t.height/2),new i.default(t.start.x+t.width/2,t.start.y+t.height),new i.default(t.start.x,t.start.y+t.height/2)]}drawHandle(t,e){const s=new i.default(t.x-5,t.y-5),r=new i.default(t.x+5,t.y+5);new n.default(s,r,this.handleStyle).draw(e)}draw(t){this.box.draw(t),this.points.forEach(e=>this.drawHandle(e,t))}}},function(t,e,s){for(var r=self.crypto||self.msCrypto,i="-_",n=36;n--;)i+=n.toString(36);for(n=36;n---10;)i+=n.toString(36).toUpperCase();t.exports=function(t){var e="",s=r.getRandomValues(new Uint8Array(t||21));for(n=t||21;n--;)e+=i[63&s[n]];return e}},function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const n=r(s(0)),o=i(s(1));class a extends o.default{constructor(t,e,s){super(t,e,o.PossibleShapes.ELLIPSE,s);const r=Math.abs(e.x-t.x)/2,i=Math.abs(e.y-t.y)/2;this.r=new n.default(r,i);const a=e.x>t.x?t.x+this.r.x:t.x-this.r.x,h=e.y>t.y?t.y+this.r.y:t.y-this.r.y;this.c=new n.default(a,h),this.path=new Path2D,this.path.ellipse(this.c.x,this.c.y,this.r.x,this.r.y,0,0,2*Math.PI)}}e.default=a},function(t,e,s){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const i=r(s(1));class n extends i.default{constructor(t,e,s){super(t,e,i.PossibleShapes.LINE,s),this.start=t,this.end=e,this.path=new Path2D,this.path.moveTo(this.start.x,this.start.y),this.path.lineTo(this.end.x,this.end.y)}}e.default=n},function(t,e,s){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)Object.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const n=r(s(0)),o=i(s(1));class a extends o.default{constructor(t,e){let s=1/0,r=1/0,i=-1/0,a=-1/0;for(const e of t)e.x<s&&(s=e.x),e.y<r&&(r=e.y),e.x>i&&e.x>s&&(i=e.x),e.y>a&&e.y>r&&(a=e.y);super(new n.default(s,r),new n.default(i,a),o.PossibleShapes.POLYGON,e),this.path=new Path2D,this.path.moveTo(t[0].x,t[0].y);for(let e=1;e<t.length;e++)this.path.lineTo(t[e].x,t[e].y);this.path.lineTo(t[0].x,t[0].y)}}e.default=a}])}));